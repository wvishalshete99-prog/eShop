
# azure-pipelines.yml
# Runtime-parameterized pipeline for Maintenance Enable/Disable
# Adds "Exclude resource names" (Disable-only) with validation and conditional confirmation.

trigger: none
pr: none

# -------------------------
# Parameters shown on screen
# -------------------------
parameters:
  - name: maintenanceAction
    displayName: "Action for maintenance (choose one): Enable or Disable"
    type: string
    default: Enable
    values:
      - Enable
      - Disable

  - name: resourceNames
    displayName: "Azure resource name(s) — enter exact names, comma-separated (no spaces). Example: er-gw-01,vpn-gw-02,vm-nw-03  (Required only when Action=Enable)"
    type: string
    default: ''

  - name: excludeResourceNames
    displayName: "Exclude resource name(s) — applies only when Action=Disable; comma-separated (no spaces). Example: er-gw-04,vm-nw-05"
    type: string
    default: ''

  - name: referenceId
    displayName: "Reference ID — approved Change/Service/Incident (must start with CRQ/SR/INC). Examples: CRQ00012345, SR00056789, INC00098765"
    type: string
    default: ''

# -------------------------
# Variables (update as needed)
# -------------------------
variables:
